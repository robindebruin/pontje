{"version":3,"sources":["constants/FerryRoutes.ts","components/Departure/DepartureHeader.tsx","components/Button/Button.tsx","components/Departure/Departure.tsx","utils/Time.ts","components/FerryTimes/FerryTimes.tsx","components/Loading.tsx","components/Destination/helpers/nextDepartureTime.ts","components/Destination/DestinationHeader.tsx","utils/HttpClients.ts","hooks/useHttpClient.tsx","components/Destination/Destination.tsx","components/Destination/helpers/stripDepartureTimes.ts","components/Journey.tsx","components/Routes.jsx","App.js","serviceWorker.js","index.js"],"names":["Harbor","name","url","fullName","this","dest","val","PONT_STEIGER","CS","NDSM","IJPLEIN","AZARTPLEIN","ZAMENHOFSTRAAT","DISTELWEG","destinations","port","lines","Ports","divStyle","backgroundColor","color","padding","fontVariantCaps","DepartureHeader","title","style","Button","active","className","children","isActive","Departure","departurePort","useState","toggle","setToggle","toggleExpand","map","key","listName","to","onClick","Time","date","Date","h","getHours","m","getMinutes","s","getSeconds","minutes","seconds","time","split","hours","setHours","setMinutes","setSeconds","ms","toISOString","slice","day","getDay","displayDay","push","hh","mm","ss","FerryTimes","destinationPortName","depTimes","closestTimeIndex","stripSeconds","msToHMS","Math","abs","timeToDateObj","getTheTime","Loading","props","nextDepartureTimeIndex","currentTime","soonestDepTimeIndex","closestTimeIndexes","find","nextDepartureTimeIndexObj","Object","keys","value","findIndex","nextDepartureTimeIndexes","DestinationHeader","HttpClient","axios","create","baseURL","process","timeout","useHttpClient","response","setResponse","hookStatus","setHookStatus","useCallback","axiosInstance","a","async","get","fetchResponse","data","console","error","Destination","destinationPort","setDepTimes","setCurrentTime","ferryTime","fetchFerryTimes","ferryTimes","setFerryTimes","useEffect","flatMap","destination","forEach","line","departureTimes","filterFerryTimes","filter","journey","fullname","matchingDestinations","currentDayNames","reduce","acc","departure","schedules","schedule","some","validFor","includes","times","t","flat","stripDepartureTimes","getDayType","setInterval","des","stripHours","nextDepartureTime","withRouter","match","params","dep","p","ROUTES","path","exact","component","Journey","Routes","route","Component","App","Boolean","window","location","hostname","ReactDOM","render","basename","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.54251a7f.chunk.js","sourcesContent":["export interface Harbor {\n  name: string;\n  url: string;\n  dest: { port: Harbor; lines: Array<string> }[];\n  fullName: string;\n}\n\nexport class Harbor {\n  constructor(name: string, url: string, fullName: string) {\n    this.name = name;\n    this.url = url;\n    this.fullName = fullName;\n  }\n\n  get destinations() {\n    return this.dest;\n  }\n\n  set destinations(val) {\n    this.dest = val;\n  }\n\n  get allDepartureTimes() {\n    return '';\n  }\n}\n\nconst PONT_STEIGER = new Harbor('Pont steiger', 'pont-steiger', 'Pontsteiger');\nconst CS = new Harbor('Centraal', 'centraal', 'Centraal Station');\nconst NDSM = new Harbor('NDSM', 'ndsm', 'NDSM');\nconst IJPLEIN = new Harbor('IJplein', 'ijplein', 'IJplein');\nconst AZARTPLEIN = new Harbor('Azartplein', 'azartplein', 'Azartplein');\nconst ZAMENHOFSTRAAT = new Harbor('Zamenhofstr', 'zamenhofstr', 'Zamenhofstraat');\nconst DISTELWEG = new Harbor('Distelweg', 'distelweg', 'Distelweg');\n\nNDSM.destinations = [\n  { port: CS, lines: ['905_NDSM_CS', '906_NDSM_CS'] },\n  { port: PONT_STEIGER, lines: ['903_NDSM_PST'] },\n];\nPONT_STEIGER.destinations = [\n  { port: NDSM, lines: ['903_PST_NDSM'] },\n  { port: DISTELWEG, lines: ['900_PST_DSW'] },\n];\nCS.destinations = [\n  { port: NDSM, lines: ['906_CS_NDSM', '905_CS_NDSM'] },\n  { port: IJPLEIN, lines: ['902_CS_IJN'] },\n];\nAZARTPLEIN.destinations = [{ port: ZAMENHOFSTRAAT, lines: ['915_AZP_ZHS'] }];\nZAMENHOFSTRAAT.destinations = [{ port: AZARTPLEIN, lines: ['915_ZHS_AZP'] }];\nDISTELWEG.destinations = [{ port: PONT_STEIGER, lines: ['900_DSW_PST'] }];\nIJPLEIN.destinations = [{ port: CS, lines: ['902_IJN_CS'] }];\n\nexport const Ports = [NDSM, PONT_STEIGER, CS, IJPLEIN, AZARTPLEIN, ZAMENHOFSTRAAT, DISTELWEG];\n","import React from 'react';\nimport CSS from 'csstype';\n\nconst divStyle: CSS.Properties = {\n  backgroundColor: 'var(--color-2)',\n  color: 'var(--color-3)',\n  padding: '0.1em 0 0 0.5em',\n  fontVariantCaps: 'all-small-caps',\n};\n\nfunction DepartureHeader({ title }) {\n  return (\n    <div style={divStyle}>\n      <div> {title}</div>\n    </div>\n  );\n}\n\nexport default DepartureHeader;\n","import React, { ReactNode } from 'react';\n\ninterface ButtonProps {\n  active?: boolean;\n  className?: string;\n  children?: ReactNode;\n}\n\nfunction Button({ active = false, className, children }: ButtonProps) {\n  const isActive = active && 'btn__selected';\n\n  return <div className={`btn ${isActive} ${className}`}>{children}</div>;\n}\n\nexport default Button;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Ports, Harbor } from '../../constants/FerryRoutes';\nimport DepartureHeader from './DepartureHeader';\nimport Button from '../Button';\n\ninterface Props {\n  departurePort: Harbor;\n}\n\nfunction Departure({ departurePort }: Props) {\n  const [toggle, setToggle] = useState(false);\n  const isActiveClass = (listName: string): boolean => listName === departurePort?.name;\n\n  const toggleExpand = () => setToggle(!toggle);\n  return (\n    <>\n      <DepartureHeader title=\"Vertrek\"></DepartureHeader>\n      <div className={`departure ${toggle ? 'expand' : 'decreased'}`}>\n        {Ports.map(port => (\n          <Button key={port.name} className={`departure-link `} active={isActiveClass(port.name)}>\n            <Link to={`/${port.url}`}>{port.name}</Link>\n          </Button>\n        ))}\n      </div>\n\n      <div className=\"toggle\">\n        <div onClick={toggleExpand} className=\"toggle toggle--btn\">\n          {/* <div className=\"toggle toggle--arrow\"></div>\n           */}\n          <a className={`arrow-icon ${toggle && 'open'}`} onClick={toggleExpand}>\n            <span className=\"left-bar\"></span>\n            <span className=\"right-bar\"></span>\n          </a>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Departure;\n","export default class Time {\n  static getTheTime(): string {\n    const date = new Date();\n    const { h, m, s } = { h: date.getHours(), m: date.getMinutes(), s: date.getSeconds() };\n    const hours = h < 10 ? '0' + h : h;\n    const minutes = m < 10 ? '0' + m : m;\n    const seconds = s < 10 ? '0' + s : s;\n    return `${hours}:${minutes}:${seconds}`;\n  }\n\n  static timeToDateObj(time: string): Date {\n    const [hours, minutes, seconds] = time.split(':');\n    let date = new Date();\n    date.setHours(+hours);\n    date.setMinutes(+minutes);\n    date.setSeconds(+seconds);\n    return date;\n  }\n\n  static msToHMS(ms) {\n    return new Date(ms).toISOString().slice(11, 19);\n  }\n\n  static getDayType(): string[] {\n    const days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n    const day = new Date().getDay();\n    let displayDay = [];\n\n    if (day !== 0 && day !== 6) {\n      displayDay.push('weekdays');\n    }\n    return [...displayDay, days[day]];\n  }\n\n  static stripSeconds(time: string): string {\n    const [hh, mm] = time.split(':');\n    return `${hh}:${mm}`;\n  }\n\n  static stripHours(time: string): string {\n    if (!time) return;\n    const [hh, mm, ss] = time.split(':');\n    return `${mm}:${ss}`;\n  }\n}\n","import React from 'react';\nimport { DepTimes } from '../../constants/FerryTime.interface';\nimport Time from '../../utils/Time';\n\ninterface Props {\n  destinationPortName: string;\n  depTimes: DepTimes;\n  closestTimeIndex: number;\n}\n\nfunction FerryTimes({ destinationPortName = '', depTimes, closestTimeIndex = 0 }) {\n  if (!depTimes) {\n    return <div className=\"ferry-times\" />;\n  }\n\n  return (\n    <>\n      <div className=\"ferry-times\">\n        <div className=\"ferry-times ferry-times__title\">{destinationPortName}</div>\n\n        {depTimes.slice(closestTimeIndex).map(time => (\n          <div className=\"ferry-times ferry-times__time\" key={time}>\n            {Time.stripSeconds(time)}\n            <sup className=\"ferry-times__count-down\">\n              (\n              {Time.stripSeconds(\n                Time.msToHMS(\n                  Math.abs((Time.timeToDateObj(time) as any) - (Time.timeToDateObj(Time.getTheTime()) as any)),\n                ),\n              )}\n              :00)\n            </sup>\n          </div>\n        ))}\n      </div>\n    </>\n  );\n}\n\nexport default FerryTimes;\n","import React from 'react';\n\nfunction Loading({ props }: any) {\n  return <div {...props}>Loading..</div>;\n}\n\nexport default Loading;\n","import Time from '../../../utils/Time';\nimport { DepTimes, IndexOfClosestDepTime } from '../../../constants/FerryTime.interface';\n\nfunction nextDepartureTimeIndexes(depTimes: DepTimes, currentTime: string): IndexOfClosestDepTime[] {\n  return Object.keys(depTimes).map(key => ({\n    name: key,\n    value: depTimes[key].findIndex(time => time > currentTime),\n  }));\n}\n\nfunction nextDepartureTimeIndexObj(closestTimeIndexes: IndexOfClosestDepTime[], name: string): IndexOfClosestDepTime {\n  return closestTimeIndexes.find(time => time.name === name);\n}\n\nexport function nextDepartureTimeIndex(name: string, depTimes: DepTimes, currentTime: string): number {\n  const closestTimeIndexes = nextDepartureTimeIndexes(depTimes, currentTime);\n  const soonestDepTimeIndex = nextDepartureTimeIndexObj(closestTimeIndexes, name);\n  return soonestDepTimeIndex ? soonestDepTimeIndex.value : 0;\n}\n\nexport function nextDepartureTime(name: string, depTimes: DepTimes, currentTime: string): string {\n  const soonestDepTimeIndex = nextDepartureTimeIndex(name, depTimes, currentTime);\n  if (!soonestDepTimeIndex || soonestDepTimeIndex < 0) {\n    return;\n  }\n  return Time.msToHMS(\n    Math.abs(\n      (Time.timeToDateObj(depTimes[name][soonestDepTimeIndex]) as any) - (Time.timeToDateObj(currentTime) as any),\n    ),\n  );\n}\n","import React from 'react';\nimport CSS from 'csstype';\n\nconst divStyle: CSS.Properties = {\n  backgroundColor: 'var(--color-1)',\n  color: 'var(--color-3)',\n  padding: '0 0 0 0.5em',\n  fontVariantCaps: 'all-small-caps',\n};\n\nfunction DestinationHeader({ title }) {\n  return (\n    <div style={divStyle}>\n      <div> {title}</div>\n    </div>\n  );\n}\n\nexport default DestinationHeader;\n","import axios from 'axios';\n\nconst HttpClient = axios.create({\n  baseURL: process.env.PUBLIC_URL,\n  timeout: 1000,\n});\n\nexport default HttpClient;\n","import React, { useCallback, useState } from 'react';\nimport HttpClient from '../utils/HttpClients';\n\ntype Status = 'LOADING' | 'ERROR' | 'SUCCESS';\nconst LOADING = 'LOADING';\nconst ERROR = 'ERROR';\nconst SUCCESS = 'SUCCESS';\n\nfunction useHttpClient<T>(): [T, Status, (arg?: string) => void] {\n  const [response, setResponse] = useState();\n  const [hookStatus, setHookStatus] = useState<Status>(LOADING);\n\n  const fetchData = useCallback(async axiosInstance => {\n    try {\n      setHookStatus(LOADING);\n      const fetchResponse = await HttpClient.get(axiosInstance);\n      setHookStatus(SUCCESS);\n      setResponse(fetchResponse.data);\n    } catch (error) {\n      console.error(error);\n      setHookStatus(ERROR);\n    }\n  }, []);\n\n  return [response, hookStatus, fetchData];\n}\n\nexport default useHttpClient;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Harbor } from '../../constants/FerryRoutes';\nimport FerryTimes from '../FerryTimes';\nimport { FerryTime, DepTimes } from '../../constants/FerryTime.interface';\nimport Time from '../../utils/Time';\nimport Loading from '../Loading';\nimport { stripDepartureTimes, matchingDestinations } from './helpers/stripDepartureTimes';\nimport { nextDepartureTime, nextDepartureTimeIndex } from './helpers/nextDepartureTime';\nimport Footer from './../Footer';\nimport DestinationHeader from './DestinationHeader';\nimport useHttpClient from '../../hooks/useHttpClient';\nimport Button from '../Button';\n\ninterface Props {\n  departurePort: Harbor;\n  destinationPort: Harbor;\n}\n\nfunction Destination({ departurePort, destinationPort }: Props) {\n  const [depTimes, setDepTimes] = useState<DepTimes>();\n  const [currentTime, setCurrentTime] = useState<string>(Time.getTheTime());\n  const [ferryTime, status, fetchFerryTimes] = useHttpClient<FerryTime>();\n  const [ferryTimes, setFerryTimes] = useState<FerryTime[]>([]);\n\n  /* On receive of a departure port fetch all matching ferry times json */\n  useEffect(() => {\n    setFerryTimes([]);\n    const lines = departurePort.destinations.flatMap(destination => destination.lines);\n    lines.forEach(line => fetchFerryTimes(`/ferry-times/${line}.json`));\n  }, [departurePort, fetchFerryTimes]);\n\n  /* For each ferryTimes strip departure times, and concat matching routes from different lines */\n  useEffect(() => {\n    let departureTimes: DepTimes;\n    departurePort.destinations.forEach(destination => {\n      const filterFerryTimes = matchingDestinations(destination, ferryTimes);\n      departureTimes = {\n        ...departureTimes,\n        [destination.port.name]: stripDepartureTimes(filterFerryTimes, Time.getDayType()),\n      };\n    });\n\n    setDepTimes(departureTimes);\n  }, [ferryTimes, departurePort]);\n\n  /* On receive of ferry time object, push in to state ferryTimes array */\n  useEffect(() => {\n    if (!ferryTime) return;\n    setFerryTimes(ferryTimes => [...ferryTimes, ferryTime]);\n  }, [ferryTime, setFerryTimes]);\n\n  /* Update every second to trigger re-render */\n  setInterval(() => {\n    setCurrentTime(Time.getTheTime());\n  }, 1000);\n\n  const isActive = (listName: string): boolean => listName === destinationPort?.name;\n\n  if (!depTimes)\n    return (\n      <div className=\"destination-port destination-port__loading \">\n        <Loading />\n      </div>\n    );\n\n  return (\n    <>\n      <DestinationHeader title=\"Bestemming\"></DestinationHeader>\n      {departurePort.destinations.map(des => (\n        <>\n          <div className=\"destination-port\" key={des.port.name}>\n            <div className=\"card \">{departurePort.name}</div>\n            <div className=\"card card--blank\"> > </div>\n            <div className=\"card\">{des.port.name}</div>\n            <div className=\"card--end\">\n              <div className=\"card\">\n                <span className=\"counter\">\n                  {Time.stripHours(nextDepartureTime(des.port.name, depTimes, currentTime))} <sup> minuten</sup>\n                </span>\n              </div>\n            </div>\n          </div>\n          <div className=\"line\"></div>\n        </>\n      ))}\n      <div className=\"times-container\">\n        {departurePort.destinations.map(des => (\n          <FerryTimes\n            destinationPortName={des.port.name}\n            depTimes={depTimes[des.port.name]}\n            closestTimeIndex={nextDepartureTimeIndex(des.port.name, depTimes, currentTime)}\n          />\n        ))}\n      </div>\n      {/* <Footer lines={departurePort.destinations.find(des => des.port === destinationPort)?.lines} /> */}\n    </>\n  );\n}\nexport default Destination;\n","import { FerryTime } from '../../../constants/FerryTime.interface';\n\nexport const stripDepartureTimes = (ferryTimes: FerryTime[], currentDayNames: string[]): string[] =>\n  ferryTimes.reduce((acc, ferryTime) => {\n    // check if one of currentDayNames is represented in schedule.validFor\n    const schedules = ferryTime.schedules.filter(schedule =>\n      currentDayNames.some(day => schedule.validFor.includes(day)),\n    );\n    const times = schedules.map(schedule => schedule.times);\n    const departure = times.map(time => time.map(t => t.departure));\n    return [...acc, ...departure.flat()];\n  }, []);\n\nexport const matchingDestinations = (destination, ferryTimes) =>\n  ferryTimes.filter(ferryTime => ferryTime.journey.destination.fullname === destination.port.fullName);\n","import React from 'react';\nimport Departure from './Departure';\nimport Destination from './Destination';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\nimport { Ports } from '../constants/FerryRoutes';\nimport { RouteInfo } from '../constants/FerryTime.interface';\n\nfunction Journey(props: RouteComponentProps<RouteInfo>) {\n  const { dep, des } = props.match.params;\n  const departurePort = Ports.find(p => dep === p.url);\n  const destinationPort = Ports.find(p => des === p.url);\n\n  return (\n    <>\n      <Departure departurePort={departurePort} />\n      <Destination departurePort={departurePort} destinationPort={destinationPort} />\n    </>\n  );\n}\n\nexport default withRouter(Journey);\n","import React, { Component } from 'react';\nimport Departure from './Departure';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Journey from './Journey';\nimport { Ports } from '../constants/FerryRoutes';\n\nconst ROUTES = [\n  // { path: '/', exact: true, component: Journey },\n  { path: '/:dep/:des', exact: false, component: Journey },\n  { path: '/:dep', exact: false, component: Journey },\n];\n\nexport default class Routes extends Component {\n  render() {\n    return (\n      <Switch>\n        {ROUTES.map(route => (\n          <Route {...route} key={route.path}></Route>\n        ))}\n        <Redirect to={`/${Ports[0].url}`} />\n      </Switch>\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport Routes from './components/Routes';\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <div className=\"section\">\n        {/* <Header /> */}\n        <Routes></Routes>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n// import { HashRouter } from 'react-router-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <Router basename={'joejoe'}>\n    <App />\n  </Router>,\n  //   <HashRouter basename={process.env.PUBLIC_URL}>\n  //   <App />\n  // </HashRouter>\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}